<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
     <div class="col-lg-12">
         <div class="ibox float-e-margins">
             <div class="ibox-title">
                 <h5>New Agent</h5>
             </div>
             
             <div class="ibox-content-form table-responsive">
                
                 
                 <form [formGroup]="agentform" (ngSubmit)="onSubmit()"  class="form-horizontal" >
                     <div class="form-group"><label class="col-sm-2 control-label">User Name</label>
                               <div class="col-sm-10">              
                                 <input class="form-control" formControlName="username" name="user_name" placeholder="User Name" readonly="readonly" type="text" >

                              </div>
                     </div>


                     <div class="hr-line-dashed"></div>

                     <div class="form-group">
                               <label class="col-sm-2 control-label">Full Name</label>
                               <div class="col-sm-10">              
                                 <input formControlName="firstName" class="form-control" name="firstname" [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }"  placeholder="Full Name" type="text" >
                                 
                                 <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
                                    <mat-error *ngIf="f.firstName.errors.required">This field is mandatory.</mat-error>
                                </div>
                              </div>
                     </div>
                     <div class="hr-line-dashed"></div>

                      <div class="form-group">
                               <label class="col-sm-2 control-label">My Share</label>
                               <div class="col-sm-10">              
                                 <input formControlName="myShare" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.myShare.errors }"  max="100" min="0" name="share" placeholder="My Share"  type="number" >
                                 <div *ngIf="submitted && f.myShare.errors" class="invalid-feedback">
                                    <mat-error *ngIf="f.myShare.errors.required">This field is mandatory.</mat-error>
                                </div>
                                 <mat-hint class="hint"><b>Note:</b>Max Agent Share + My Share should be set below or equal to <b>{{accountInfo.maxMyShare}}</b></mat-hint>
                              </div>
                     </div>

                     <div class="hr-line-dashed"></div>

                      <div class="form-group">
                               <label class="col-sm-2 control-label">Max Agent Share</label>
                               <div class="col-sm-10">              
                                 <input  formControlName="Agentshare" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.Agentshare.errors }"  max="100" min="0" name="maximum_share" placeholder="Agent Share"  type="number" >
                                 <div *ngIf="submitted && f.Agentshare.errors" class="invalid-feedback">
                                    <mat-error *ngIf="f.Agentshare.errors.required">This field is mandatory.</mat-error>
                                </div>
                                 <mat-hint class="hint" ><b>Note:</b>Max Agent Share + My Share should be set below or equal to <b>{{accountInfo.minCompanyShare}}</b></mat-hint>
                              </div>
                     </div>

                     <div class="hr-line-dashed"></div>

                      <div class="form-group">
                               <label class="col-sm-2 control-label">Agent Fix Limit</label>
                               <div class="col-sm-10">              
                                 <input  formControlName="fixLimit" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.fixLimit.errors }"  min="0" name="fix_limit" placeholder="Agent Fix Limit"  type="number"  >
                                 <div *ngIf="submitted && f.fixLimit.errors" class="invalid-feedback">
                                    <mat-error *ngIf="f.fixLimit.errors.required">This field is mandatory.</mat-error>
                                </div>
                                 <mat-hint class="hint" ><b>Note</b> : Agent Fix Limit set below or equal to <b>{{accountInfo.remainingLimit-totalremaininglimit | number : '1.2'}}</b></mat-hint>
                              </div>
                     </div>

                     <div class="hr-line-dashed"></div>
                      <div class="form-group">
                               <label class="col-sm-2 control-label">Agent Match Commission</label>
                               <div class="col-sm-10">              
                                 <input  formControlName="MComm" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.MComm.errors }"  max="100" min="0" name="match_commission" placeholder="Agent Match Commission"  type="number" >
                                 <div *ngIf="submitted && f.MComm.errors" class="invalid-feedback">
                                    <mat-error *ngIf="f.MComm.errors.required">This field is mandatory.</mat-error>
                                </div>
                                 <mat-hint class="hint" ><b>Note</b> : Agent Match Commission set below or equal to <b>{{accountInfo.matchComm}}</b></mat-hint>
                              </div>
                     </div>

                     <div class="hr-line-dashed"></div>
                      <div class="form-group">
                               <label class="col-sm-2 control-label">Agent Session Commission</label>
                               <div class="col-sm-10">              
                                 <input  formControlName="SComm" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.SComm.errors }"  max="100" min="0" name="session_commission" placeholder="Agent Session Commission" type="number" > 
                                 <div *ngIf="submitted && f.SComm.errors" class="invalid-feedback">
                                    <mat-error *ngIf="f.SComm.errors.required">This field is mandatory.</mat-error>
                                </div>
                                 <mat-hint class="hint" ><b>Note</b> : Agent Session Commission set below or equal to <b>{{accountInfo.sessionComm}}</b></mat-hint>
                              </div>    
                     </div>  

                     
                     <div class="hr-line-dashed"></div>

                     <div class="form-group">
                               <label class="col-sm-2 control-label">Password</label>
                               <div class="col-sm-10">         
                                <input  formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" name ="password"  placeholder="Password"  type="password" >
                                <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                                    <mat-error *ngIf="f.password.errors.required">This field is mandatory.</mat-error>
                                    <mat-error *ngIf="f.password.errors.minlength">Password must be at least 6 characters</mat-error>
                                </div>
                              </div>                                         
                            
                       </div>
                       <div class="hr-line-dashed"></div>  


                       <div class="form-group">
                              <label class="col-sm-2 control-label">Confirm Password</label>
                              <div class="col-sm-10">                 
                                <input  formControlName="confirmPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors }"  name="confirmpassword" placeholder="Confirm Password"  type="password" >
                                <div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
                                    <mat-error *ngIf="f.confirmPassword.errors.required">This field is mandatory.</mat-error>
                                    <mat-error *ngIf="f.confirmPassword.errors.mustMatch">Passwords must match</mat-error>
                                </div>
                              </div>                                            
                       </div>
                       <div class="hr-line-dashed"></div>

                       <div class="form-group">
                        <label class="col-sm-2 control-label"></label>
                        <div class="col-sm-10">
                          <mat-checkbox formControlName="isMComm">Is Market Commission</mat-checkbox>
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-sm-2 control-label"></label>
                        <div class="col-sm-10">
                          <mat-checkbox formControlName="isSComm">Is Session Commission</mat-checkbox>
                        </div>
                      </div>
                      <div class="hr-line-dashed"></div>

                     <div class="form-group col-sm-4 col-sm-offset-2 button-row">
                            <button mat-raised-button color="warn" (click)="onClear()">Cancel</button>
                            <button mat-raised-button color="primary" *ngIf="!userId" type="submit">Save</button>
                            <button mat-raised-button color="primary" *ngIf="userId" type="submit">Update Changes</button>
                     </div>
</form>                        </div>
         </div>         
     </div>
 </div>
</div>